backend:
  name: git-gateway
  branch: main

# Enable local development
local_backend: true

# Media management
media_folder: "public/images"
public_folder: "/images"

# Site URL for preview
site_url: https://onafricatp.com
display_url: https://onafricatp.com

# Logo for CMS interface
logo_url: https://i.postimg.cc/x8zq9Qvf/2025-06-29-T075316-796.png

# Collections configuration
collections:
  - name: "settings"
    label: "⚙️ Paramètres du site"
    description: "Configuration générale du site web"
    files:
      - name: "general"
        label: "Informations générales"
        file: "src/data/settings.json"
        description: "Coordonnées et informations de base de l'entreprise"
        fields:
          - { label: "Nom de l'entreprise", name: "company_name", widget: "string", hint: "Nom officiel de l'entreprise" }
          - { label: "📞 Téléphone", name: "phone", widget: "string", pattern: ['^[\+]?[0-9\s\-\(\)]+$', 'Format de téléphone invalide'] }
          - { label: "📠 Fax", name: "fax", widget: "string", pattern: ['^[\+]?[0-9\s\-\(\)]+$', 'Format de fax invalide'] }
          - { label: "📱 WhatsApp", name: "whatsapp", widget: "string", pattern: ['^[\+]?[0-9\s\-\(\)]+$', 'Format WhatsApp invalide'] }
          - { label: "📧 Email", name: "email", widget: "string", pattern: ['^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$', 'Format email invalide'] }
          - { label: "📮 BP", name: "bp", widget: "string" }
          - { label: "📍 Adresse", name: "address", widget: "text" }
          - { label: "🏢 Logo", name: "logo", widget: "image", hint: "Logo de l'entreprise (format PNG recommandé)" }

  - name: "content"
    label: "📝 Contenu du site"
    description: "Gestion du contenu principal des pages"
    files:
      - name: "hero"
        label: "🏠 Section Accueil"
        file: "src/data/hero.json"
        description: "Contenu de la page d'accueil principale"
        fields:
          - { label: "Titre principal", name: "title", widget: "string", hint: "Titre affiché en grand sur la page d'accueil" }
          - { label: "Sous-titre", name: "subtitle", widget: "string", hint: "Slogan ou phrase d'accroche" }
          - { label: "Description longue", name: "description", widget: "text", hint: "Description détaillée de l'entreprise" }
          - { label: "📅 Années d'expérience", name: "experience_years", widget: "number", min: 0, max: 100 }
          - { label: "🏗️ Nombre de projets", name: "projects_count", widget: "number", min: 0 }
          - { label: "🤝 Nombre de partenaires", name: "partners_count", widget: "number", min: 0 }
          - { label: "😊 Pourcentage satisfaction", name: "satisfaction_rate", widget: "number", min: 0, max: 100 }

      - name: "director"
        label: "👨‍💼 Message du directeur"
        file: "src/data/director.json"
        description: "Section dédiée au message du directeur général"
        fields:
          - { label: "📸 Photo du directeur 1", name: "photo1", widget: "image", hint: "Première photo du directeur" }
          - { label: "📸 Photo du directeur 2", name: "photo2", widget: "image", hint: "Deuxième photo du directeur (optionnelle)" }
          - { label: "💬 Message paragraphe 1", name: "message1", widget: "text", hint: "Premier paragraphe du message" }
          - { label: "💬 Message paragraphe 2", name: "message2", widget: "text", hint: "Deuxième paragraphe du message" }
          - { label: "💬 Message paragraphe 3", name: "message3", widget: "text", hint: "Troisième paragraphe du message" }
          - { label: "🎯 Titre du poste", name: "position", widget: "string", default: "Directeur Général" }

  - name: "services"
    label: "🛠️ Services"
    description: "Gestion des services proposés par l'entreprise"
    folder: "src/data/services"
    create: true
    delete: true
    slug: "{{slug}}"
    summary: "{{title}} - {{description}}"
    sortable_fields: ['title', 'commit_date']
    view_filters:
      - label: "Services de construction"
        field: title
        pattern: 'Construction'
      - label: "Services de logistique"
        field: title
        pattern: 'Transport|Logistique'
    fields:
      - { label: "🏷️ Titre", name: "title", widget: "string", hint: "Nom du service" }
      - { label: "📝 Description", name: "description", widget: "text", hint: "Description détaillée du service" }
      - { label: "🖼️ Image", name: "image", widget: "image", hint: "Image représentative du service" }
      - { label: "🎨 Icône", name: "icon", widget: "select", options: ["Building", "Hammer", "Sprout", "Droplets", "Truck", "Wrench", "Plus"], hint: "Icône à afficher avec le service" }
      - { label: "💰 Prix indicatif", name: "price_range", widget: "string", required: false, hint: "Fourchette de prix (optionnel)" }
      - { label: "⏱️ Durée moyenne", name: "duration", widget: "string", required: false, hint: "Durée moyenne du service (optionnel)" }

  - name: "projects"
    label: "🏗️ Réalisations"
    description: "Portfolio des projets réalisés"
    folder: "src/data/projects"
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{slug}}"
    summary: "{{title}} ({{year}})"
    sortable_fields: ['title', 'commit_date', 'year']
    view_filters:
      - label: "Projets 2024"
        field: year
        pattern: '2024'
      - label: "Projets 2023"
        field: year
        pattern: '2023'
    fields:
      - { label: "🏷️ Titre", name: "title", widget: "string", hint: "Nom du projet" }
      - { label: "📝 Description", name: "description", widget: "text", hint: "Description du projet réalisé" }
      - { label: "🖼️ Image", name: "image", widget: "image", hint: "Photo principale du projet" }
      - { label: "📅 Année de réalisation", name: "year", widget: "number", min: 2009, max: 2030, default: 2024 }
      - { label: "📍 Localisation", name: "location", widget: "string", required: false, hint: "Lieu du projet (optionnel)" }
      - { label: "👥 Client", name: "client", widget: "string", required: false, hint: "Nom du client (optionnel)" }
      - { label: "🏷️ Catégorie", name: "category", widget: "select", options: ["Construction", "Terrassement", "Aménagement agricole", "Adduction d'eau", "Logistique", "Autre"], default: "Construction" }

  - name: "partners"
    label: "🤝 Partenaires"
    description: "Réseau de partenaires de l'entreprise"
    folder: "src/data/partners"
    create: true
    delete: true
    slug: "{{slug}}"
    summary: "{{name}} - {{description}}"
    sortable_fields: ['name', 'commit_date']
    view_filters:
      - label: "Partenaires avec site web"
        field: website
        pattern: 'http'
    fields:
      - { label: "🏢 Nom", name: "name", widget: "string", hint: "Nom du partenaire" }
      - { label: "📝 Description", name: "description", widget: "text", hint: "Description de la collaboration" }
      - { label: "🏷️ Logo", name: "logo", widget: "image", hint: "Logo du partenaire" }
      - { label: "🌐 Site web", name: "website", widget: "string", required: false, pattern: ['^https?://.+', 'URL invalide (doit commencer par http:// ou https://)'], hint: "Site web du partenaire (optionnel)" }
      - { label: "📧 Email", name: "email", widget: "string", required: false, pattern: ['^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$', 'Format email invalide'], hint: "Email de contact (optionnel)" }
      - { label: "🏷️ Type de partenariat", name: "partnership_type", widget: "select", options: ["Fournisseur", "Client", "Sous-traitant", "Partenaire technique", "Partenaire financier", "Autre"], default: "Partenaire technique" }

# Editorial workflow
publish_mode: editorial_workflow

# Media library settings
media_library:
  name: uploadcare
  config:
    publicKey: "demopublickey"
    multiple: false
    tabs: "file camera url facebook gdrive gphotos dropbox instagram"
    effects: "crop,rotate,enhance,grayscale"
    imageShrink: "2000x2000"
    previewStep: true
    clearable: true

# Custom preview styles
editor:
  preview: true